(function(e){function t(t){for(var s,r,i=t[0],o=t[1],l=t[2],u=0,d=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);p&&p(t);while(d.length)d.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],s=!0,i=1;i<a.length;i++){var o=a[i];0!==n[o]&&(s=!1)}s&&(c.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},n={app:0},c=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var p=o;c.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1:function(e,t){},"13f3":function(e,t,a){},"22ac":function(e,t,a){"use strict";a("6d46")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("7a23"),n=(a("b0c0"),a("a4d3"),a("e01a"),{class:"flexbox wrap-mobile"}),c={class:"sidebar hide-scrollbar width-adaptive flexbox mobile-friendly",style:{overflow:"inherit"},id:"apiexplorer-main-sidebar"},r={class:"sidebar-mobile-toggle"},i={class:"box align-center"},o=Object(s["h"])("i",{class:"fas fa-bars"},null,-1),l=Object(s["j"])(" Меню"),p=[o,l],u={class:"menu"},d=Object(s["h"])("i",{class:"fas fa-info"},null,-1),b=Object(s["h"])("span",null,"About",-1),h={class:"content blank hide-scrollbar flexbox"},m={key:0,class:"sidebar blank width-18rem bordered-right desktop-only hide-scrollbar"},j={class:"sidebar-body hide-scrollbar"},O={class:"article content"},f={class:"article-body",id:"wa-app-content"},g={key:1,class:"box skeleton",style:{width:"70%"}},_=Object(s["i"])('<span class="skeleton-header" style="width:60%;"></span><span class="skeleton-line"></span><span class="skeleton-line"></span><span class="skeleton-line"></span><span class="skeleton-line"></span>',5),y=[_],w={key:0,class:"alert-fixed-box"},v={class:"alert danger"},k=Object(s["h"])("i",{class:"fas fa-times"},null,-1),x=[k],S=Object(s["h"])("i",{class:"fas fa-skull"},null,-1);function T(e,t,a,o,l,_){var k=Object(s["E"])("app-list"),T=Object(s["E"])("user-list"),L=Object(s["E"])("router-link"),M=Object(s["E"])("method-list"),A=Object(s["E"])("router-view");return Object(s["w"])(),Object(s["g"])(s["a"],null,[Object(s["h"])("section",n,[Object(s["h"])("aside",c,[Object(s["h"])("nav",r,[Object(s["h"])("div",i,[Object(s["h"])("a",{href:"javascript:void(0);",onClick:t[0]||(t[0]=function(e){return _.mobileSidebarToggle()})},p)])]),Object(s["h"])("div",{class:"sidebar-header",style:Object(s["s"])(l.sidebarStyle)},[Object(s["k"])(k,{apps_with_api:l.app_ids,layout_loaded:_.loaded,onAppSelected:_.appSelected,onAppsLoaded:_.appsLoaded},null,8,["apps_with_api","layout_loaded","onAppSelected","onAppsLoaded"])],4),Object(s["h"])("div",{class:"sidebar-body hide-scrollbar custom-pt-16",id:"wa-app-navigation",style:Object(s["s"])(l.sidebarStyle)},[Object(s["k"])(T,{onUserSelected:_.mobileSidebarHide},null,8,["onUserSelected"])],4),Object(s["h"])("div",{class:"sidebar-footer",style:Object(s["s"])(l.sidebarStyle)},[Object(s["h"])("ul",u,[Object(s["h"])("li",{class:Object(s["r"])(["About"===e.$route.name&&"selected"]),onClick:t[1]||(t[1]=function(){return _.mobileSidebarHide&&_.mobileSidebarHide.apply(_,arguments)})},[Object(s["k"])(L,{to:{name:"About"}},{default:Object(s["M"])((function(){return[d,b]})),_:1})],2)])],4)]),Object(s["h"])("main",h,["Application"===e.$route.name||"Method"===e.$route.name?(Object(s["w"])(),Object(s["g"])("aside",m,[Object(s["h"])("div",j,[Object(s["k"])(M,{app_id:l.current_app},null,8,["app_id"])])])):Object(s["f"])("",!0),Object(s["h"])("div",O,[Object(s["h"])("div",f,[_.loaded?(Object(s["w"])(),Object(s["e"])(A,{key:e.$route.fullPath})):(Object(s["w"])(),Object(s["g"])("div",g,y))])])])]),l.error.state?(Object(s["w"])(),Object(s["g"])("div",w,[Object(s["h"])("span",v,[Object(s["h"])("a",{href:"#",class:"alert-close",onClick:t[2]||(t[2]=function(e){return l.error.state=!1})},x),S,Object(s["j"])(" "+Object(s["G"])(l.error.description),1)])])):Object(s["f"])("",!0)],64)}var L=function(e){return Object(s["z"])("data-v-2a54a392"),e=e(),Object(s["x"])(),e},M={key:0,class:"box skeleton custom-pt-32"},A=L((function(){return Object(s["h"])("span",{class:"skeleton-header custom-mb-0"},null,-1)})),C=[A],V={key:1,class:"bricks dropdown",id:"apps-dropdown"},R={class:"brick selected full-width dropdown-toggle"},H={key:0},$=["src","title"],q={class:"app-wrapper"},U={class:"app-name"},P={key:0,class:"count"},G={key:1,class:"empty"},I={class:"dropdown-body"},E={class:"menu"},N=["onClick"],B={key:0,class:"count"},D={key:1,class:"count"},J=["title"],z={class:"nowrap"};function F(e,t,a,n,c,r){return r.ready?(Object(s["w"])(),Object(s["g"])("div",V,[Object(s["h"])("div",R,[c.selected_app?(Object(s["w"])(),Object(s["g"])("div",{key:1,class:"flexbox middle",onClick:t[0]||(t[0]=function(e){return r.selectApp(c.selected_app)})},[Object(s["h"])("img",{src:"/"+r.apps[c.selected_app].icon["48"],class:"icon",title:r.apps[c.selected_app].name},null,8,$),Object(s["h"])("div",q,[Object(s["h"])("span",U,Object(s["G"])(r.apps[c.selected_app].name),1),e.$store.state.counts[c.selected_app]?(Object(s["w"])(),Object(s["g"])("span",P,Object(s["G"])(e.$store.state.counts[c.selected_app])+" APIs",1)):(Object(s["w"])(),Object(s["g"])("span",G,"No API"))])])):(Object(s["w"])(),Object(s["g"])("div",H," Select App "))]),Object(s["h"])("div",I,[Object(s["h"])("ul",E,[(Object(s["w"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(r.apps,(function(t){return Object(s["w"])(),Object(s["g"])("li",{key:t.app_id,class:Object(s["r"])([t.id===c.selected_app&&"selected"])},[Object(s["h"])("a",{href:"javascript:void(0);",onClick:function(e){return r.selectApp(t.id)}},[t.id in e.$store.state.counts?(Object(s["w"])(),Object(s["g"])("span",B,Object(s["G"])(e.$store.state.counts[t.id]),1)):(Object(s["w"])(),Object(s["g"])("span",D,"-")),Object(s["h"])("i",{class:"icon16 app-icon",title:t.name,style:Object(s["s"])({"background-image":"url(/"+t.icon["16"]+")"})},null,12,J),Object(s["h"])("span",z,Object(s["G"])(t.name),1)],8,N)],2)})),128))])])])):(Object(s["w"])(),Object(s["g"])("div",M,C))}var K=a("53ca"),Y=a("3835"),W=a("1da1"),X=(a("96cf"),a("b64b"),a("159b"),a("4fad"),a("d3b7"),a("3ca3"),a("ddb0"),a("ac1f"),a("1276"),a("d2e1")),Q={name:"AppList",emits:["apps-loaded","app-selected"],props:{apps_with_api:{type:Array,default:function(){return[]}},layout_loaded:Boolean},data:function(){return{state:{loading:!1,error:!1},selected_app:!1,dropdown:!1}},computed:{apps:function(){return this.$store.state.apps},ready:function(){return!this.state.loading&&this.layout_loaded}},mounted:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var a,s,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.apps&&0!==Object.keys(e.apps).length){t.next=14;break}return e.state.loading=!0,t.next=4,e.axios.get("?module=applist");case 4:return a=t.sent,s=a.data.data.apps,e.$store.commit("load_apps",s),n=[],Object.entries(e.$store.state.apps).forEach((function(t){var a=Object(Y["a"])(t,2),s=a[0],c=a[1];c.swagger&&n.push(e.loadSwagger(s))})),n.push(e.loadMethodList()),t.next=12,Promise.all(n);case 12:e.$emit("apps-loaded",Object.keys(e.$store.state.method_groups)),e.state.loading=!1;case 14:"Method"===e.$route.name?(c=e.$route.params.name,e.selected_app=c.split(".")[0],e.$emit("app-selected",e.selected_app)):"Application"===e.$route.name&&(e.selected_app=e.$route.params.name,e.$emit("app-selected",e.selected_app)),e.doDropdown();case 16:case"end":return t.stop()}}),t)})))()},methods:{doDropdown:function(){var e=this;if(!this.dropdown)if(this.ready){var t=window.jQuery("#apps-dropdown");t?this.dropdown=t.waDropdown():setTimeout((function(){e.doDropdown()}),1e3)}else setTimeout((function(){e.doDropdown()}),1e3)},selectApp:function(e){this.selected_app=e,this.$emit("app-selected",e),this.$router.push({name:"Application",params:{name:e}})},loadSwagger:function(e){var t=this;return Object(W["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,new X["a"]({url:window.appState.baseUrl+"?module=swaggerRead&app="+e});case 2:s=a.sent,"status"in s.spec&&"fail"===s.spec.status?console.log("Swagger для "+e+" не шмогла"):(t.$store.commit("load_app_methods",{app_id:e,methods:s.spec.paths}),t.$store.commit("load_swagger",{app_id:e,swagger:s}));case 4:case"end":return a.stop()}}),a)})))()},loadMethodList:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.get("?module=methodlist");case 2:a=t.sent,"object"===Object(K["a"])(a.data)?(s=a.data.data.methods,e.$store.commit("load_methods",s)):(e.emitter.emit("error","Invalid server response: "+a.data.substring(0,150)),e.state.error=!0);case 4:case"end":return t.stop()}}),t)})))()}}},Z=(a("79d0"),a("d959")),ee=a.n(Z);const te=ee()(Q,[["render",F],["__scopeId","data-v-2a54a392"]]);var ae=te,se=Object(s["h"])("h5",{class:"heading"},"Users",-1),ne={key:0,class:"box skeleton custom-pt-32"},ce=Object(s["i"])('<span class="skeleton-list"></span><span class="skeleton-list"></span><span class="skeleton-list"></span><span class="skeleton-list"></span><span class="skeleton-list"></span><span class="skeleton-list"></span>',6),re=[ce],ie={key:1,class:"menu mobile-friendly"},oe=["onClick"],le={class:"icon"};function pe(e,t,a,n,c,r){return Object(s["w"])(),Object(s["g"])(s["a"],null,[se,c.state.loading?(Object(s["w"])(),Object(s["g"])("div",ne,re)):(Object(s["w"])(),Object(s["g"])("ul",ie,[(Object(s["w"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(Object.keys(r.users),(function(e){return Object(s["w"])(),Object(s["g"])("li",{key:e,class:Object(s["r"])([r.current_user_id===e&&"selected"])},[Object(s["h"])("a",{href:"javascript:void(0)",onClick:function(t){return r.setCurrentUser(e)}},[Object(s["h"])("span",le,[Object(s["h"])("i",{class:"userpic",style:Object(s["s"])({"background-image":"url("+r.users[e].photo_url_16+")"})},null,4)]),Object(s["h"])("span",null,Object(s["G"])(r.users[e].name),1)],8,oe)],2)})),128))]))],64)}a("9861"),a("25f0");var ue={name:"UserList",emits:["user-selected"],data:function(){return{state:{loading:!1,error:!1}}},mounted:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.users&&0!==Object.keys(e.users).length||e.loadUsers();case 1:case"end":return t.stop()}}),t)})))()},computed:{users:function(){return this.$store.state.users},current_user_id:function(){return this.$store.state.current_user_id},current_token:function(){return this.$store.getters.current_token}},methods:{loadUsers:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state.loading=!0,t.next=3,e.axios.get("?module=userlist");case 3:a=t.sent,e.state.loading=!1,e.$store.commit("load_users",a.data.data.users),e.setCurrentUser(window.appState.user_id);case 7:case"end":return t.stop()}}),t)})))()},setCurrentUser:function(e){var t=this;return Object(W["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e in t.users){a.next=2;break}return a.abrupt("return");case 2:if(t.$store.commit("set_current_user_id",e),t.$emit("user-selected",e),t.current_token){a.next=12;break}return s=new URLSearchParams,s.append("module","getToken"),s.append("user",t.users[e].login),a.next=10,t.axios.get("?"+s.toString());case 10:n=a.sent,t.$store.commit("add_token",{user_id:e,token:n.data.data.token});case 12:case"end":return a.stop()}}),a)})))()}}};const de=ee()(ue,[["render",pe]]);var be=de,he={key:0,class:"box skeleton custom-pt-32",style:{width:"70%"}},me=Object(s["i"])('<span class="skeleton-line" style="width:50%;"></span><span class="skeleton-line"></span><span class="skeleton-line"></span><span class="skeleton-line"></span><span class="skeleton-line"></span>',5),je=[me],Oe={key:1,class:"custom-pt-32"},fe={class:"heading"},ge={class:"menu mobile-friendly"},_e=["onClick"],ye={key:0},we={class:"custom-pl-8"},ve={key:2,class:"custom-p-32 align-center"},ke=Object(s["h"])("i",{class:"fas fa-times-circle",style:{"font-size":"8rem",opacity:".1"}},null,-1),xe=Object(s["h"])("p",{class:"hint"},[Object(s["j"])(" If you are a developer of this app, please refer to this guide on how to create "),Object(s["h"])("a",{href:"https://developers.webasyst.ru/docs/features/apis/",target:"_blank"},"an API-enabled Webasyst app"),Object(s["j"])(". ")],-1);function Se(e,t,a,n,c,r){return r.loaded?a.app_id&&r.method_groups[a.app_id]?(Object(s["w"])(),Object(s["g"])("div",Oe,[(Object(s["w"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(Object.keys(r.method_groups[a.app_id]),(function(e){return Object(s["w"])(),Object(s["g"])("div",{key:e},[Object(s["h"])("h5",fe,Object(s["G"])(e),1),Object(s["h"])("ul",ge,[(Object(s["w"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(Object.keys(r.method_groups[a.app_id][e]),(function(t){return Object(s["w"])(),Object(s["g"])("li",{key:t,class:Object(s["r"])([r.selected_method===t&&"selected"])},[Object(s["h"])("a",{href:"javascript:void(0);",onClick:function(e){return r.selectMethod(t)}},["object"===Object(K["a"])(r.method_groups[a.app_id][e][t])?(Object(s["w"])(),Object(s["g"])("div",ye,[Object(s["h"])("div",{class:Object(s["r"])(["badge","small","squared","a-"+r.method_groups[a.app_id][e][t].http_type])},Object(s["G"])(r.method_groups[a.app_id][e][t].http_type.toUpperCase()),3)])):Object(s["f"])("",!0),Object(s["h"])("span",we,Object(s["G"])(t),1)],8,_e)],2)})),128))])])})),128))])):a.app_id&&!r.method_groups[a.app_id]?(Object(s["w"])(),Object(s["g"])("div",ve,[ke,Object(s["h"])("h4",null,"The "+Object(s["G"])(e.$store.state.apps[a.app_id].name)+" app does not offer any public APIs",1),xe])):Object(s["f"])("",!0):(Object(s["w"])(),Object(s["g"])("div",he,je))}var Te={name:"MethodList",props:{app_id:{type:String,default:""}},data:function(){return{}},computed:{method_groups:function(){return this.$store.state.method_groups},loaded:function(){return this.$store.state.loaded},selected_method:function(){return"Method"===this.$route.name?this.$route.params.name:""}},methods:{selectMethod:function(e){this.$router.push({name:"Method",params:{name:e}})}}};a("22ac");const Le=ee()(Te,[["render",Se]]);var Me=Le,Ae={components:{AppList:ae,UserList:be,MethodList:Me},data:function(){return{current_app:"",app_ids:[],error:{state:!1,description:""},mobileSidebarOpen:!1,sidebarStyle:{}}},computed:{loaded:function(){return this.$store.state.loaded}},created:function(){var e=this;this.emitter.on("error",(function(t){e.error.description=t,e.error.state=!0}))},methods:{appsLoaded:function(e){this.app_ids=e,this.$store.commit("load_finish")},appSelected:function(e){this.current_app=e,this.mobileSidebarHide()},mobileSidebarToggle:function(){this.mobileSidebarOpen?this.mobileSidebarHide():this.mobileSidebarShow()},mobileSidebarHide:function(){this.mobileSidebarOpen=!1,this.sidebarStyle={}},mobileSidebarShow:function(){this.mobileSidebarOpen=!0,this.sidebarStyle={display:"block"}}}};const Ce=ee()(Ae,[["render",T]]);var Ve=Ce,Re=a("6c02"),He={class:"home"},$e=Object(s["h"])("div",{class:"box align-center",style:{"margin-top":"10vh"}},[Object(s["h"])("span",{style:{opacity:"0.15","font-size":"18rem"},class:"text-gray"},[Object(s["h"])("i",{class:"fas fa-robot"})])],-1),qe=[$e];function Ue(e,t,a,n,c,r){return Object(s["w"])(),Object(s["g"])("div",He,qe)}var Pe={name:"Home"};const Ge=ee()(Pe,[["render",Ue]]);var Ie=Ge,Ee=Object(s["h"])("h1",null,"How it works",-1),Ne={key:0,class:"box skeleton custom-pt-32",style:{width:"70%"}},Be=Object(s["i"])('<span class="skeleton-line"></span><span class="skeleton-line"></span><span class="skeleton-line"></span><span class="skeleton-line"></span><span class="skeleton-line"></span>',5),De=[Be],Je=["innerHTML"];function ze(e,t,a,n,c,r){return Object(s["w"])(),Object(s["g"])(s["a"],null,[Ee,c.state.loading?(Object(s["w"])(),Object(s["g"])("div",Ne,De)):(Object(s["w"])(),Object(s["g"])("div",{key:1,innerHTML:c.page},null,8,Je))],64)}var Fe={name:"About",data:function(){return{state:{loading:!1,error:!1},page:""}},mounted:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state.loading=!0,t.next=3,e.axios.get("?module=pages&action=about");case 3:a=t.sent,e.page=a.data,e.state.loading=!1;case 6:case"end":return t.stop()}}),t)})))()}};const Ke=ee()(Fe,[["render",ze]]);var Ye=Ke,We=(a("caad"),a("2532"),a("a434"),{key:0,class:"box skeleton",style:{width:"70%"}}),Xe=Object(s["i"])('<span class="skeleton-header" style="width:60%;"></span><span class="skeleton-line"></span><span class="skeleton-line"></span><span class="skeleton-line"></span><span class="skeleton-line"></span>',5),Qe=[Xe],Ze={key:1},et={class:"tablet-only"},tt=Object(s["h"])("i",{class:"fas fa-arrow-left"},null,-1),at={class:"mobile-only"},st=Object(s["h"])("i",{class:"fas fa-arrow-left"},null,-1),nt={key:0,style:{display:"flex","align-items":"flex-end"}},ct={key:1},rt={key:2},it={key:3,class:"gray"},ot=Object(s["h"])("em",null,"<No method description>",-1),lt=[ot],pt=Object(s["h"])("hr",null,null,-1),ut=Object(s["h"])("h3",null,"Execute API call",-1),dt={class:"fields custom-mb-32"},bt={class:"fields-group"},ht={class:"field"},mt=Object(s["h"])("div",{class:"name"}," Token: ",-1),jt={class:"value"},Ot={key:0,class:"gray"},ft=Object(s["h"])("em",null,"<No user selected>",-1),gt=[ft],_t={key:1},yt={key:0,class:"spinner custom-mx-8"},wt={class:"field"},vt=Object(s["h"])("div",{class:"name"}," URL: ",-1),kt={class:"value"},xt={key:4,class:"fields"},St={key:0,class:"fields-group"},Tt={class:"name for-input"},Lt=["for"],Mt={class:"value"},At={key:1,class:"fields-group"},Ct={class:"name for-input"},Vt=["for"],Rt={class:"value"},Ht={key:5},$t={key:0},qt={class:"tabs bordered-bottom"},Ut={key:0,class:"custom-mt-4"},Pt={class:"borderless custom-mb-8"},Gt=Object(s["h"])("tr",null,[Object(s["h"])("th",null,"Name"),Object(s["h"])("th",{class:"max-width"},"Value"),Object(s["h"])("th",{class:"min-width"})],-1),It=["onUpdate:modelValue"],Et={class:"max-width"},Nt=["onUpdate:modelValue"],Bt={class:"min-width"},Dt=["onClick"],Jt=Object(s["h"])("i",{class:"fas fa-times"},null,-1),zt=[Jt],Ft=Object(s["h"])("i",{class:"fas fa-plus"},null,-1),Kt=Object(s["j"])(" Add param"),Yt=[Ft,Kt],Wt={key:1,class:"custom-mt-16"},Xt={class:"flexbox middle space-12 custom-mt-12"},Qt=Object(s["h"])("i",{class:"fas fa-eraser"},null,-1),Zt=Object(s["h"])("span",{class:"custom-pl-8"},"Clear",-1),ea=[Qt,Zt],ta=["disabled"],aa={key:0},sa={key:1},na=Object(s["h"])("i",{class:"fas fa-robot"},null,-1),ca=Object(s["h"])("span",{class:"custom-pl-8"},"Call API method",-1),ra=[na,ca],ia={key:0,class:"spinner"},oa={key:6,class:"custom-pt-32"},la=Object(s["j"])(" Response code: "),pa={key:0},ua=["innerHTML"],da={key:1},ba={class:"tabs bordered-bottom"},ha={key:0,class:"fields custom-mt-16"},ma=["innerHTML"],ja=["innerHTML"],Oa=["innerHTML"],fa={key:7,class:"state-error"};function ga(e,t,a,n,c,r){var i=Object(s["E"])("token"),o=Object(s["E"])("schema-input"),l=Object(s["E"])("schema-data");return c.state.loading?(Object(s["w"])(),Object(s["g"])("div",We,Qe)):(Object(s["w"])(),Object(s["g"])("div",Ze,[Object(s["h"])("nav",et,[Object(s["h"])("a",{href:"javascript:void(0);",onClick:t[0]||(t[0]=function(e){return r.backToApp()})},[tt,Object(s["j"])(" "+Object(s["G"])(c.app.name),1)])]),Object(s["h"])("nav",at,[Object(s["h"])("a",{href:"javascript:void(0);",onClick:t[1]||(t[1]=function(e){return r.backToApp()})},[st,Object(s["j"])(" "+Object(s["G"])(c.app.name),1)])]),c.name?(Object(s["w"])(),Object(s["g"])("div",nt,[Object(s["h"])("div",{class:Object(s["r"])(["badge","squared","a-"+r.type.toLowerCase(),"custom-mb-4","custom-mr-8"])},Object(s["G"])(r.type),3),Object(s["h"])("h1",null,Object(s["G"])(c.name),1)])):Object(s["f"])("",!0),r.summary?(Object(s["w"])(),Object(s["g"])("p",ct,Object(s["G"])(r.summary),1)):c.method&&c.method.doc?(Object(s["w"])(),Object(s["g"])("p",rt,Object(s["G"])(c.method.doc),1)):(Object(s["w"])(),Object(s["g"])("p",it,lt)),pt,ut,Object(s["h"])("div",dt,[Object(s["h"])("div",bt,[Object(s["h"])("div",ht,[mt,Object(s["h"])("div",jt,[r.user?(Object(s["w"])(),Object(s["g"])("span",_t,[Object(s["h"])("span",{class:"icon userpic userpic-20",style:Object(s["s"])({"background-image":"url("+r.user.photo_url_32+")"})},null,4),Object(s["j"])(" "+Object(s["G"])(r.user.name)+" ",1),Object(s["k"])(i,{value:r.api_token,user:r.user},null,8,["value","user"]),r.user&&!r.api_token?(Object(s["w"])(),Object(s["g"])("span",yt)):Object(s["f"])("",!0)])):(Object(s["w"])(),Object(s["g"])("span",Ot,gt))])]),Object(s["h"])("div",wt,[vt,Object(s["h"])("div",kt,Object(s["G"])(r.methodUrl),1)])])]),r.isSwagger?(Object(s["w"])(),Object(s["g"])("div",xt,["GET"===r.type?(Object(s["w"])(),Object(s["g"])("div",St,[(Object(s["w"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(c.method.get.parameters,(function(e){return Object(s["w"])(),Object(s["g"])("div",{key:e.name,class:"field"},[Object(s["h"])("div",Tt,[Object(s["h"])("label",{for:e.name},Object(s["G"])(e.name)+": ",9,Lt)]),Object(s["h"])("div",Mt,[Object(s["k"])(o,{name:e.name,schema:e.schema,required:e.required,description:e.description,modelValue:c.api_params[e.name],"onUpdate:modelValue":function(t){return c.api_params[e.name]=t}},null,8,["name","schema","required","description","modelValue","onUpdate:modelValue"])])])})),128))])):"object"===r.post_data_schema.type?(Object(s["w"])(),Object(s["g"])("div",At,[(Object(s["w"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(Object.entries(r.post_data_schema.properties),(function(e){var t=Object(Y["a"])(e,2),a=t[0],n=t[1];return Object(s["w"])(),Object(s["g"])("div",{key:a,class:"field"},[Object(s["h"])("div",Ct,[Object(s["h"])("label",{for:a},Object(s["G"])(a)+": ",9,Vt)]),Object(s["h"])("div",Rt,[Object(s["k"])(o,{name:a,schema:n,description:n.description,required:r.post_data_schema.required&&r.post_data_schema.required.includes(a),modelValue:c.api_request_body[a],"onUpdate:modelValue":function(e){return c.api_request_body[a]=e}},null,8,["name","schema","description","required","modelValue","onUpdate:modelValue"])])])})),128))])):Object(s["f"])("",!0)])):(Object(s["w"])(),Object(s["g"])("div",Ht,[Object(s["N"])(Object(s["h"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.api_query_string=e}),style:{width:"100%"},class:"custom-mb-4",placeholder:"Request query string"},null,512),[[s["K"],c.api_query_string]]),"GET"!==r.type?(Object(s["w"])(),Object(s["g"])("div",$t,[Object(s["h"])("ul",qt,[Object(s["h"])("li",{class:Object(s["r"])("params"===c.post_body_tab?["selected"]:[])},[Object(s["h"])("a",{href:"javascript:void(0);",onClick:t[3]||(t[3]=function(){return r.switchPostTabToParams&&r.switchPostTabToParams.apply(r,arguments)})}," Request POST params ")],2),Object(s["h"])("li",{class:Object(s["r"])("raw"===c.post_body_tab?["selected"]:[])},[Object(s["h"])("a",{href:"javascript:void(0);",onClick:t[4]||(t[4]=function(){return r.switchPostTabToRaw&&r.switchPostTabToRaw.apply(r,arguments)})}," Raw request body ")],2)]),"params"===c.post_body_tab?(Object(s["w"])(),Object(s["g"])("div",Ut,[Object(s["h"])("table",Pt,[Gt,(Object(s["w"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(c.api_post_params,(function(e,t){return Object(s["w"])(),Object(s["g"])("tr",{key:t},[Object(s["h"])("td",null,[Object(s["N"])(Object(s["h"])("input",{type:"text","onUpdate:modelValue":function(e){return c.api_post_params[t][0]=e},class:"short"},null,8,It),[[s["K"],c.api_post_params[t][0]]])]),Object(s["h"])("td",Et,[Object(s["N"])(Object(s["h"])("input",{type:"text","onUpdate:modelValue":function(e){return c.api_post_params[t][1]=e},style:{width:"100%"}},null,8,Nt),[[s["K"],c.api_post_params[t][1]]])]),Object(s["h"])("td",Bt,[Object(s["h"])("button",{class:"circle outlined light-gray small",onClick:function(e){return c.api_post_params.splice(t,1)}},zt,8,Dt)])])})),128))]),Object(s["h"])("button",{class:"outlined light-gray small",onClick:t[5]||(t[5]=function(e){return c.api_post_params.push(["",""])})},Yt)])):Object(s["f"])("",!0),"raw"===c.post_body_tab?(Object(s["w"])(),Object(s["g"])("div",Wt,[Object(s["N"])(Object(s["h"])("textarea",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return c.api_post_data=e}),style:{width:"100%",height:"160px"},placeholder:"Raw request body"},null,512),[[s["K"],c.api_post_data]])])):Object(s["f"])("",!0)])):Object(s["f"])("",!0)])),Object(s["h"])("div",Xt,[Object(s["h"])("button",{class:"button light-gray",onClick:t[7]||(t[7]=function(e){return r.reset()})},ea),Object(s["h"])("button",{class:Object(s["r"])(["button","a-"+r.type.toLowerCase()]),onClick:t[8]||(t[8]=function(e){return r.call()}),disabled:!r.api_token||c.state.calling},[r.api_token?(Object(s["w"])(),Object(s["g"])("span",sa,ra)):(Object(s["w"])(),Object(s["g"])("span",aa,"No token selected"))],10,ta),c.state.calling?(Object(s["w"])(),Object(s["g"])("div",ia)):Object(s["f"])("",!0)]),c.api_response?(Object(s["w"])(),Object(s["g"])("div",oa,[Object(s["h"])("h4",null,[la,Object(s["h"])("span",{class:Object(s["r"])(["badge","squared","small","s-r"+(""+c.api_response.status).substring(0,1)])},[Object(s["j"])(Object(s["G"])(c.api_response.status)+" ",1),c.api_response.statusText?(Object(s["w"])(),Object(s["g"])("span",pa,"("+Object(s["G"])(c.api_response.statusText)+")",1)):Object(s["f"])("",!0)],2)]),r.response_info.description?(Object(s["w"])(),Object(s["g"])("div",{key:0,innerHTML:r.descriptionMarkdown},null,8,ua)):Object(s["f"])("",!0),r.response_info.schema&&Object.keys(r.response_info.schema).length>0?(Object(s["w"])(),Object(s["g"])("div",da,[Object(s["h"])("ul",ba,[Object(s["h"])("li",{class:Object(s["r"])("data"===c.response_tab?["selected"]:[])},[Object(s["h"])("a",{href:"javascript:void(0);",onClick:t[9]||(t[9]=function(e){return r.switchResponseTab("data")})}," Response data ")],2),Object(s["h"])("li",{class:Object(s["r"])("raw"===c.response_tab?["selected"]:[])},[Object(s["h"])("a",{href:"javascript:void(0);",onClick:t[10]||(t[10]=function(e){return r.switchResponseTab("raw")})}," Response raw ")],2),Object(s["h"])("li",{class:Object(s["r"])("schema"===c.response_tab?["selected"]:[])},[Object(s["h"])("a",{href:"javascript:void(0);",onClick:t[11]||(t[11]=function(e){return c.response_tab="schema"})}," Response schema ")],2)]),"data"===c.response_tab?(Object(s["w"])(),Object(s["g"])("div",ha,[Object(s["k"])(l,{schema:r.response_info.schema,value:c.api_response.body,deep:0,iden:"root"},null,8,["schema","value"])])):"schema"===c.response_tab?(Object(s["w"])(),Object(s["g"])("pre",{key:1,class:"small highlighted custom-p-8",innerHTML:r.prettifyJson(r.response_info.schema)},null,8,ma)):(Object(s["w"])(),Object(s["g"])("pre",{key:2,class:Object(s["r"])(["small",c.api_response.status>=400&&"orange","highlighted","custom-p-8"]),innerHTML:r.prettifyJson(c.api_response.body||c.api_response.data)},null,10,ja))])):(Object(s["w"])(),Object(s["g"])("pre",{key:2,class:Object(s["r"])(["small",c.api_response.status>=400&&"orange","highlighted","custom-p-8"]),innerHTML:r.prettifyJson(c.api_response.body||c.api_response.data)},null,10,Oa))])):c.api_error?(Object(s["w"])(),Object(s["g"])("p",fa,"Ошибке: "+Object(s["G"])(c.api_error),1)):Object(s["f"])("",!0)]))}var _a=a("b85c"),ya=(a("5319"),a("bc3a")),wa=a.n(ya),va=a("0e54"),ka=a.n(va),xa=function(e){return Object(s["z"])("data-v-02d4b42e"),e=e(),Object(s["x"])(),e},Sa={key:0,class:"wa-select"},Ta=["id","value"],La={key:0},Ma=["value"],Aa={key:1},Ca={key:0},Va=["id","value"],Ra=["onClick"],Ha=xa((function(){return Object(s["h"])("i",{class:"fas fa-calendar"},null,-1)})),$a=[Ha],qa=["value","id"],Ua=["value","id"],Pa=["value","id"],Ga=["value","id"],Ia=["value","id"],Ea={key:4},Na={class:"wa-checkbox"},Ba=["id"],Da=xa((function(){return Object(s["h"])("span",null,[Object(s["h"])("span",{class:"icon"},[Object(s["h"])("i",{class:"fas fa-check"})])],-1)})),Ja={key:5,class:"fields-group"},za={class:"name for-input"},Fa=["for"],Ka={class:"value"},Ya={key:6},Wa=["onClick"],Xa=xa((function(){return Object(s["h"])("i",{class:"fas fa-times"},null,-1)})),Qa=[Xa],Za=xa((function(){return Object(s["h"])("i",{class:"fas fa-plus"},null,-1)})),es=Object(s["j"])(" Add row"),ts=[Za,es],as={key:7},ss=Object(s["j"])("Херовый тип поля - "),ns=Object(s["j"])(". Я такой еще не умею."),cs={key:0,class:"small custom-pr-4"},rs={key:1,class:"hint"},is={key:2,class:"hint"},os={key:3},ls={key:0,class:"hint"},ps={key:1,class:"hint"},us={key:2,class:"hint"},ds={key:3,class:"hint"},bs=["innerHTML"];function hs(e,t,a,n,c,r){var i=Object(s["E"])("date-picker"),o=Object(s["E"])("schema-input",!0);return Object(s["w"])(),Object(s["g"])(s["a"],null,[a.schema.enum?(Object(s["w"])(),Object(s["g"])("div",Sa,[Object(s["h"])("select",{id:a.name,value:a.modelValue,onInput:t[0]||(t[0]=function(e){return r.updateValue(e.target.value)})},["nullable"in a.schema&&a.schema.nullable||!a.required?(Object(s["w"])(),Object(s["g"])("option",La)):Object(s["f"])("",!0),(Object(s["w"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(a.schema.enum,(function(e){return Object(s["w"])(),Object(s["g"])("option",{key:e,value:e},Object(s["G"])(e),9,Ma)})),128))],40,Ta)])):"string"===a.schema.type?(Object(s["w"])(),Object(s["g"])("span",Aa,["date"===a.schema.format?(Object(s["w"])(),Object(s["g"])("span",Ca,[Object(s["k"])(i,{modelValue:c.l_value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.l_value=e}),onClick:t[2]||(t[2]=function(e){return r.updateValue(c.l_value)}),onInput:t[3]||(t[3]=function(e){return r.updateValue(e.target.value)}),"model-config":{type:"string",mask:"YYYY-MM-DD"},popover:{visibility:"focus"}},{default:Object(s["M"])((function(e){var t=e.inputValue,n=e.inputEvents,c=e.togglePopover;return[Object(s["h"])("input",Object(s["p"])({type:"text",id:a.name,value:t},Object(s["H"])(n)),null,16,Va),Object(s["h"])("span",{class:"icon",onClick:c},$a,8,Ra)]})),_:1},8,["modelValue"])])):"email"===a.schema.format?(Object(s["w"])(),Object(s["g"])("input",{key:1,value:a.modelValue,onInput:t[4]||(t[4]=function(e){return r.updateValue(e.target.value)}),id:a.name,type:"email"},null,40,qa)):"password"===a.schema.format?(Object(s["w"])(),Object(s["g"])("input",{key:2,value:a.modelValue,onInput:t[5]||(t[5]=function(e){return r.updateValue(e.target.value)}),id:a.name,type:"password"},null,40,Ua)):(Object(s["w"])(),Object(s["g"])("input",{key:3,value:a.modelValue,onInput:t[6]||(t[6]=function(e){return r.updateValue(e.target.value)}),id:a.name,type:"text",class:"long"},null,40,Pa))])):"integer"===a.schema.type?(Object(s["w"])(),Object(s["g"])("input",{key:2,value:a.modelValue,onInput:t[7]||(t[7]=function(e){return r.updateValue(e.target.value)}),id:a.name,type:"number"},null,40,Ga)):"number"===a.schema.type?(Object(s["w"])(),Object(s["g"])("input",{key:3,value:a.modelValue,onInput:t[8]||(t[8]=function(e){return r.updateValue(e.target.value)}),id:a.name,type:"text"},null,40,Ia)):"boolean"===a.schema.type?(Object(s["w"])(),Object(s["g"])("label",Ea,[Object(s["h"])("span",Na,[Object(s["N"])(Object(s["h"])("input",{type:"checkbox",id:a.name,"onUpdate:modelValue":t[9]||(t[9]=function(e){return c.l_value=e}),onInput:t[10]||(t[10]=function(e){return r.updateValue(!c.l_value)})},null,40,Ba),[[s["J"],c.l_value]]),Da])])):"object"===a.schema.type?(Object(s["w"])(),Object(s["g"])("div",Ja,[(Object(s["w"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(Object.entries(a.schema.properties),(function(e){var t=Object(Y["a"])(e,2),n=t[0],i=t[1];return Object(s["w"])(),Object(s["g"])("div",{key:n,class:"field"},[Object(s["h"])("div",za,[Object(s["h"])("label",{for:n},Object(s["G"])(n)+": ",9,Fa)]),Object(s["h"])("div",Ka,[Object(s["k"])(o,{name:a.name+"_"+n,schema:i,description:i.description,required:a.schema.required&&a.schema.required.includes(n),modelValue:c.l_value[n],"onUpdate:modelValue":function(e){return r.updateFieldValue(e,n)}},null,8,["name","schema","description","required","modelValue","onUpdate:modelValue"])])])})),128))])):"array"===a.schema.type?(Object(s["w"])(),Object(s["g"])("div",Ya,[(Object(s["w"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(c.l_value,(function(e,t){return Object(s["w"])(),Object(s["g"])("div",{key:t,class:"custom-mb-8 custom-pb-8 flexbox bordered-bottom"},[Object(s["h"])("div",null,[Object(s["k"])(o,{name:a.name+"_"+t,schema:a.schema.items,modelValue:e,"onUpdate:modelValue":function(e){return r.updateArrValue(e,t)}},null,8,["name","schema","modelValue","onUpdate:modelValue"])]),Object(s["h"])("div",{class:"icon custom-m-8",onClick:function(e){return r.removeArrayItem(t)}},Qa,8,Wa)])})),128)),Object(s["h"])("div",null,[Object(s["h"])("button",{onClick:t[11]||(t[11]=function(){return r.addRow&&r.addRow.apply(r,arguments)}),class:"outlined light-gray small"},ts)])])):(Object(s["w"])(),Object(s["g"])("p",as,[ss,Object(s["h"])("strong",null,Object(s["G"])(a.schema.type),1),ns])),Object(s["h"])("div",null,[a.required?(Object(s["w"])(),Object(s["g"])("span",cs,"Обязательное поле")):Object(s["f"])("",!0),"integer"===a.schema.type?(Object(s["w"])(),Object(s["g"])("span",rs,"Целое число")):"number"===a.schema.type?(Object(s["w"])(),Object(s["g"])("span",is,"Число")):"string"===a.schema.type?(Object(s["w"])(),Object(s["g"])("span",os,["date"===a.schema.format?(Object(s["w"])(),Object(s["g"])("span",ls,"Дата")):Object(s["f"])("",!0),"date-time"===a.schema.format?(Object(s["w"])(),Object(s["g"])("span",ps,"Дата + время")):Object(s["f"])("",!0),"email"===a.schema.format?(Object(s["w"])(),Object(s["g"])("span",us,"Email")):Object(s["f"])("",!0),"uri"===a.schema.format?(Object(s["w"])(),Object(s["g"])("span",ds,"URI")):Object(s["f"])("",!0)])):Object(s["f"])("",!0)]),a.description?(Object(s["w"])(),Object(s["g"])("div",{key:8,class:"hint custom-mt-0",innerHTML:r.descriptionMarkdown},null,8,bs)):Object(s["f"])("",!0)],64)}a("a9e3"),a("07ac");var ms=a("7b37"),js={name:"SchemaInput",emits:["update:modelValue"],inheritAttrs:!1,props:{name:String,schema:Object,modelValue:[String,Object,Array,Boolean,Number],required:Boolean,description:String},components:{DatePicker:ms["a"]},data:function(){return{l_value:{}}},created:function(){var e=this;this.emitter.on("reset",(function(){e.l_value={}}))},mounted:function(){"boolean"===this.schema.type?(this.l_value=!!this.modelValue,this.updateValue(this.l_value)):"object"===this.schema.type?this.l_value=this.modelValue||{}:"array"===this.schema.type?(this.l_value=this.modelValue||[],Array.isArray(this.l_value)&&0===this.l_value.length&&this.addRow()):this.l_value=this.modelValue},computed:{descriptionMarkdown:function(){return ka()(this.description)}},methods:{updateValue:function(e){this.$emit("update:modelValue",e)},updateArrValue:function(e,t){this.l_value[t]=e,this.$emit("update:modelValue",Object.values(this.l_value))},updateFieldValue:function(e,t){this.l_value[t]=e,this.$emit("update:modelValue",this.l_value)},removeArrayItem:function(e){this.l_value.splice(e,1),this.$emit("update:modelValue",Object.values(this.l_value))},addRow:function(){if("array"===this.schema.type&&"items"in this.schema){null!==this.l_value&&"object"===Object(K["a"])(this.l_value)&&Array.isArray(this.l_value)||(this.l_value=[]);var e=this.schema.items.type;"object"===e?this.l_value.push({}):"array"===e?this.l_value.push([]):"string"===e?this.l_value.push(""):this.l_value.push(null)}}}};a("c8a7");const Os=ee()(js,[["render",hs],["__scopeId","data-v-02d4b42e"]]);var fs=Os,gs=function(e){return Object(s["z"])("data-v-192b2432"),e=e(),Object(s["x"])(),e},_s={key:0},ys=gs((function(){return Object(s["h"])("em",{class:"grey"}," <empty> ",-1)})),ws=["innerHTML"],vs=["innerHTML"],ks={key:1},xs={key:0},Ss={key:1},Ts={key:2},Ls=["href"],Ms={key:3},As=["innerHTML"],Cs={key:2},Vs=["innerHTML"],Rs={key:1,class:"fields-group"},Hs={key:0},$s={class:"custom-mb-4"},qs=["innerHTML"],Us={class:"custom-ml-32 custom-pb-32"},Ps=gs((function(){return Object(s["h"])("hr",{class:"custom-mt-16"},null,-1)})),Gs={key:1,class:"field"},Is={class:"name"},Es=["innerHTML"],Ns={class:"value"},Bs=["innerHTML"],Ds=["innerHTML"],Js={key:3},zs=["innerHTML"],Fs=["innerHTML"],Ks={key:2},Ys=["innerHTML"],Ws={key:3,class:"custom-my-16"},Xs={key:0,class:"grey"},Qs=["innerHTML"],Zs={key:4},en=Object(s["j"])("Херовый тип поля - "),tn=Object(s["j"])(". Я такой еще не умею."),an=["innerHTML"],sn=["innerHTML"];function nn(e,t,a,n,c,r){var i=Object(s["E"])("schema-data",!0);return r.isEmpty(a.value)?(Object(s["w"])(),Object(s["g"])("div",_s,[ys,a.description?(Object(s["w"])(),Object(s["g"])("div",{key:0,class:"hint",innerHTML:r.descriptionMarkdown},null,8,ws)):Object(s["f"])("",!0),"array"===a.schema.type&&"items"in a.schema&&a.schema.items.description?(Object(s["w"])(),Object(s["g"])("div",{key:1,class:"hint",innerHTML:r.markdown(a.schema.items.description)},null,8,vs)):Object(s["f"])("",!0)])):"string"===a.schema.type||"integer"===a.schema.type||"number"===a.schema.type||"boolean"===a.schema.type?(Object(s["w"])(),Object(s["g"])("div",ks,["string"===a.schema.type&&"date-time"===a.schema.format?(Object(s["w"])(),Object(s["g"])("span",xs,Object(s["G"])(new Date(a.value).toLocaleString()),1)):"string"===a.schema.type&&"date"===a.schema.format?(Object(s["w"])(),Object(s["g"])("span",Ss,Object(s["G"])(new Date(a.value).toLocaleDateString()),1)):"string"===a.schema.type&&"uri"===a.schema.format?(Object(s["w"])(),Object(s["g"])("span",Ts,[Object(s["h"])("a",{href:a.value},Object(s["G"])(a.value),9,Ls)])):(Object(s["w"])(),Object(s["g"])("span",Ms,Object(s["G"])(a.value),1)),a.description?(Object(s["w"])(),Object(s["g"])("div",{key:4,class:"hint",innerHTML:r.descriptionMarkdown},null,8,As)):Object(s["f"])("",!0)])):"object"===a.schema.type?(Object(s["w"])(),Object(s["g"])("div",Cs,[a.description?(Object(s["w"])(),Object(s["g"])("div",{key:0,class:"hint custom-pt-4",innerHTML:r.descriptionMarkdown},null,8,Vs)):Object(s["f"])("",!0),"object"!==Object(K["a"])(a.value)||Array.isArray(a.value)?(Object(s["w"])(),Object(s["g"])("pre",{key:2,class:"small",innerHTML:r.prettifyJson(a.value)},null,8,Ds)):(Object(s["w"])(),Object(s["g"])("div",Rs,[(Object(s["w"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(Object.entries(a.value),(function(e){var t=Object(Y["a"])(e,2),n=t[0],o=t[1];return Object(s["w"])(),Object(s["g"])("div",{key:n},[r.doCollapseNestedArrayDeep(n,o)?(Object(s["w"])(),Object(s["g"])("div",Hs,[Object(s["h"])("h5",$s,Object(s["G"])(n),1),a.schema.properties[n].description?(Object(s["w"])(),Object(s["g"])("div",{key:0,class:"hint custom-mb-4",innerHTML:r.markdown(a.schema.properties[n].description)},null,8,qs)):Object(s["f"])("",!0),Object(s["h"])("div",Us,[Object(s["k"])(i,{schema:a.schema.properties[n],value:o,deep:c.new_deep},null,8,["schema","value","deep"]),Ps])])):(Object(s["w"])(),Object(s["g"])("div",Gs,[Object(s["h"])("div",Is,[Object(s["j"])(Object(s["G"])(n)+": ",1),r.isArrayNested(n)&&a.schema.properties[n].description?(Object(s["w"])(),Object(s["g"])("div",{key:0,class:"hint",innerHTML:r.markdown(a.schema.properties[n].description)},null,8,Es)):Object(s["f"])("",!0)]),Object(s["h"])("div",Ns,["properties"in a.schema&&n in a.schema.properties?(Object(s["w"])(),Object(s["e"])(i,{key:0,schema:a.schema.properties[n],value:o,deep:c.new_deep,description:r.isArrayNested(n)?"":a.schema.properties[n].description},null,8,["schema","value","deep","description"])):(Object(s["w"])(),Object(s["g"])("pre",{key:1,class:"small",innerHTML:r.prettifyJson(o)},null,8,Bs))])]))])})),128))]))])):"array"===a.schema.type?(Object(s["w"])(),Object(s["g"])("div",Js,[a.description?(Object(s["w"])(),Object(s["g"])("div",{key:0,class:"hint custom-pb-8 custom-pt-4",innerHTML:r.descriptionMarkdown},null,8,zs)):Object(s["f"])("",!0),"items"in a.schema&&a.schema.items.description?(Object(s["w"])(),Object(s["g"])("div",{key:1,class:"hint custom-pb-8 custom-pt-4",innerHTML:r.markdown(a.schema.items.description)},null,8,Fs)):Object(s["f"])("",!0),Array.isArray(a.value)?(Object(s["w"])(),Object(s["g"])("div",Ks,[(Object(s["w"])(!0),Object(s["g"])(s["a"],null,Object(s["C"])(a.value,(function(e,t){return Object(s["w"])(),Object(s["g"])("div",{key:t},["items"in a.schema?(Object(s["w"])(),Object(s["e"])(i,{key:0,schema:a.schema.items,value:e,deep:c.new_deep},null,8,["schema","value","deep"])):(Object(s["w"])(),Object(s["g"])("pre",{key:1,class:"small",innerHTML:r.prettifyJson(e)},null,8,Ys)),t<a.value.length-1?(Object(s["w"])(),Object(s["g"])("hr",{key:2,class:Object(s["r"])([r.isSimpleItemsArray?"custom-my-4":"custom-my-16"])},null,2)):(Object(s["w"])(),Object(s["g"])("div",Ws))])})),128)),null===a.value||0===a.value.length?(Object(s["w"])(),Object(s["g"])("em",Xs," <empty> ")):Object(s["f"])("",!0)])):(Object(s["w"])(),Object(s["g"])("pre",{key:3,class:"small",innerHTML:r.prettifyJson(a.value)},null,8,Qs))])):(Object(s["w"])(),Object(s["g"])("div",Zs,[Object(s["h"])("p",null,[en,Object(s["h"])("strong",null,Object(s["G"])(a.schema.type),1),tn]),a.description?(Object(s["w"])(),Object(s["g"])("div",{key:0,class:"hint",innerHTML:r.descriptionMarkdown},null,8,an)):Object(s["f"])("",!0),Object(s["h"])("pre",{class:"small",innerHTML:r.prettifyJson(a.value)},null,8,sn)]))}var cn=a("68ca"),rn={name:"SchemaData",props:{schema:Object,value:[Object,Array,String,Number,Boolean],deep:Number,description:String},data:function(){return{new_deep:this.deep+1}},computed:{descriptionMarkdown:function(){return ka()(this.description)},isSimpleItemsArray:function(){return"items"in this.schema&&"object"!==this.schema.items.type&&"array"!==this.schema.items.type}},methods:{markdown:function(e){return e?ka()(e):""},prettifyJson:function(e){return cn["a"].toHtml(e)},doCollapseNestedArrayDeep:function(e,t){return this.isArrayNested(e)&&"items"in this.schema.properties[e]&&"object"===this.schema.properties[e].items.type&&!this.isEmpty(t)},isArrayNested:function(e){return"properties"in this.schema&&e in this.schema.properties&&"array"===this.schema.properties[e].type},isEmpty:function(e){return null===e||""===e||Array.isArray(e)&&0===e.length||"object"===Object(K["a"])(e)&&0===Object.entries(e).length}}};a("7a03");const on=ee()(rn,[["render",nn],["__scopeId","data-v-192b2432"]]);var ln=on,pn={key:0},un={key:0},dn=Object(s["h"])("i",{class:"fas fa-eye-slash"},null,-1),bn=[dn],hn={class:"hint custom-mr-8"},mn={key:0,class:"spinner hint"},jn=Object(s["h"])("i",{class:"fas fa-trash-alt"},null,-1),On=Object(s["j"])(" delete "),fn=[jn,On],gn=Object(s["h"])("i",{class:"fas fa-eye"},null,-1),_n=[gn];function yn(e,t,a,n,c,r){return a.value?(Object(s["w"])(),Object(s["g"])("span",pn,[c.show_token?(Object(s["w"])(),Object(s["g"])("span",un,[Object(s["h"])("a",{href:"javascript:void(0);",class:"custom-mx-8",title:"Hide token",onClick:t[0]||(t[0]=function(e){return c.show_token=!1})},bn),Object(s["h"])("span",hn,Object(s["G"])(a.value),1),c.delete_status.loading?(Object(s["w"])(),Object(s["g"])("span",mn)):(Object(s["w"])(),Object(s["g"])("a",{key:1,href:"javascript:void(0);",class:"hint nowrap",title:"Delete token",onClick:t[1]||(t[1]=function(){return r.deleteToken&&r.deleteToken.apply(r,arguments)})},fn))])):(Object(s["w"])(),Object(s["g"])("a",{key:1,href:"javascript:void(0);",class:"custom-mx-8",title:"Show token",onClick:t[2]||(t[2]=function(e){return c.show_token=!0})},_n))])):Object(s["f"])("",!0)}var wn={name:"Token",props:{value:String,user:Object},data:function(){return{show_token:!1,delete_status:{loading:!1,error:!1}}},methods:{deleteToken:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.user&&e.value){t.next=2;break}return t.abrupt("return");case 2:return e.delete_status.error=!1,e.delete_status.loading=!0,a=new URLSearchParams,a.append("module","deleteToken"),a.append("user",e.user.login),s=new URLSearchParams,s.append("token",e.value),t.next=11,e.axios.post("?"+a.toString(),s);case 11:e.$store.commit("delete_token",e.user.id),e.$store.commit("set_current_user_id",0),e.delete_status.loading=!1,e.show_token=!1;case 15:case"end":return t.stop()}}),t)})))()}}};const vn=ee()(wn,[["render",yn]]);var kn=vn,xn={name:"Method",components:{SchemaInput:fs,SchemaData:ln,Token:kn},data:function(){return{state:{loading:!1,error:!1,calling:!1},name:"",method:{name:"",type:""},app:{id:"",name:""},api_query_string:"",api_post_data:"",api_post_params:[["",""]],api_response:null,api_error:null,api_params:{},api_request_body:{},response_tab:"data",post_body_tab:"params",show_token:!1}},computed:{api_token:function(){return this.$store.getters.current_token},user:function(){return this.$store.getters.current_user},summary:function(){return this.method?this.method.post&&this.method.post.summary?this.method.post.summary:!(!this.method.get||!this.method.get.summary)&&this.method.get.summary:""},type:function(){return this.method?"type"in this.method?this.method.type:"post"in this.method?"POST":"get"in this.method&&"GET":""},isSwagger:function(){return!!this.method&&("isSwagger"in this.method&&this.method.isSwagger)},post_data_schema:function(){if(!this.method)return{};if(!this.isSwagger||!("post"in this.method)||!("requestBody"in this.method.post))return{};var e=this.method.post.requestBody.content;return"application/json"in e?e["application/json"].schema:"application/x-www-form-urlencoded"in e?e["application/x-www-form-urlencoded"].schema:"multipart/form-data"in e?e["multipart/form-data"].schema:{}},response_info:function(){if(!this.isSwagger||!this.api_response||!this.type||!(this.type.toLowerCase()in this.method)||!("responses"in this.method[this.type.toLowerCase()])||!(this.api_response.status in this.method[this.type.toLowerCase()].responses))return{};var e=this.method[this.type.toLowerCase()].responses[this.api_response.status],t={};return"content"in e&&("application/json"in e.content?t=e.content["application/json"].schema||{}:"text/plain"in e.content&&(t=e.content["text/plain"].schema||{})),{schema:t,description:e.description}},descriptionMarkdown:function(){return ka()(this.response_info.description)},methodUrl:function(){return document.location.protocol+"//"+document.location.host+"/api.php/"+this.name}},mounted:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var a,s,n,c,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.name=e.$route.params.name,!e.name){t.next=18;break}if(a=e.name.split(".")[0],e.app=e.$store.getters.getApp(a),e.method=e.$store.getters.getMethod(a,e.name),e.method){t.next=7;break}return t.abrupt("return");case 7:if("name"in e.method||e.isSwagger){t.next=18;break}return e.state.loading=!0,s=new URLSearchParams,s.append("module","methodinfo"),s.append("method",e.name),t.next=14,e.axios.get("?"+s.toString());case 14:n=t.sent,e.method=n.data.data,e.$store.commit("load_method",{app_id:a,method_name:e.name,method:e.method}),e.state.loading=!1;case 18:c=JSON.parse(localStorage.getItem("method:"+e.name)),c&&(e.api_params="api_params"in c?c.api_params:{},e.api_request_body="api_request_body"in c?c.api_request_body:{},e.api_query_string="api_query_string"in c?c.api_query_string:"",e.api_post_data="api_post_data"in c?c.api_post_data:"",e.parseRawBody()),r=localStorage.getItem("response_tab"),r&&(e.response_tab=r);case 22:case"end":return t.stop()}}),t)})))()},methods:{call:function(){var e=this;return Object(W["a"])(regeneratorRuntime.mark((function t(){var a,s,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.state.calling=!0,!e.isSwagger){t.next=17;break}return t.prev=2,a={pathName:"/"+e.name,method:e.type.toLowerCase(),parameters:e.api_params,securities:{authorized:{ApiKeyAuth:e.api_token,BearerAuth:e.api_token}}},"get"!==e.type.toLowerCase()&&(a.requestBody=e.api_request_body),t.next=7,e.$store.state.swagger[e.app.id].execute(a);case 7:e.api_response=t.sent,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),e.api_error=t.t0.toString(),t.t0.response&&(e.api_response=t.t0.response);case 14:localStorage.setItem("method:"+e.name,JSON.stringify({api_params:e.api_params,api_request_body:e.api_request_body})),t.next=31;break;case 17:return s=Array.isArray(e.method.type)?e.method.type[0]:e.method.type,n=wa.a.create({baseURL:window.appState.rootUrl}),"params"===e.post_body_tab&&(e.api_post_data=e.getRawBodyFromParams()),t.prev=20,t.next=23,n({method:s,url:"api.php/"+e.method.name+"?"+e.api_query_string,data:"GET"===s?null:e.api_post_data,headers:{Authorization:"Bearer "+e.api_token}});case 23:c=t.sent,e.api_response=c,t.next=30;break;case 27:t.prev=27,t.t1=t["catch"](20),e.api_response=t.t1.response;case 30:localStorage.setItem("method:"+e.name,JSON.stringify({api_query_string:e.api_query_string,api_post_data:e.api_post_data}));case 31:e.state.calling=!1;case 32:case"end":return t.stop()}}),t,null,[[2,10],[20,27]])})))()},reset:function(){this.api_params={},this.api_request_body={},this.api_query_string="",this.api_post_data="",this.parseRawBody(),localStorage.removeItem("method:"+this.name),this.emitter.emit("reset")},show:function(e){console.log(e)},backToApp:function(){this.$router.push({name:"Application",params:{name:this.app.id}})},switchPostTabToRaw:function(){this.api_post_data=this.getRawBodyFromParams(),this.post_body_tab="raw"},switchPostTabToParams:function(){this.parseRawBody(),this.post_body_tab="params"},parseRawBody:function(){if(-1!==this.api_post_data.indexOf("="))try{var e=new URLSearchParams(this.api_post_data.replace(/\s+/g,""));this.api_post_params=[];var t,a=Object(_a["a"])(e);try{for(a.s();!(t=a.n()).done;){var s=Object(Y["a"])(t.value,2),n=s[0],c=s[1];this.api_post_params.push([n,c])}}catch(r){a.e(r)}finally{a.f()}}catch(r){console.log(r)}else this.api_post_params=[["",""]]},getRawBodyFromParams:function(){if(0==this.api_post_params.length)return"";var e=new URLSearchParams;return this.api_post_params.forEach((function(t){(t[0]||t[1])&&e.append(t[0],t[1])})),e.toString()},prettifyJson:function(e){return cn["a"].toHtml(e)},switchResponseTab:function(e){this.response_tab=e,localStorage.setItem("response_tab",e)}}};a("7a61");const Sn=ee()(xn,[["render",ga]]);var Tn=Sn,Ln=function(e){return Object(s["z"])("data-v-0a880129"),e=e(),Object(s["x"])(),e},Mn=Ln((function(){return Object(s["h"])("div",{class:"desktop-only"},[Object(s["h"])("div",{class:"box align-center",style:{"margin-top":"10vh"}},[Object(s["h"])("span",{style:{opacity:"0.15","font-size":"18rem"},class:"text-gray"},[Object(s["h"])("i",{class:"fas fa-robot"})])])],-1)})),An={class:"tablet-only"},Cn={class:"mobile-only"},Vn={class:"custom-px-12"},Rn=["src"];function Hn(e,t,a,n,c,r){var i=Object(s["E"])("method-list");return Object(s["w"])(),Object(s["g"])(s["a"],null,[Mn,Object(s["h"])("div",An,[Object(s["k"])(i,{app_id:c.app_id},null,8,["app_id"])]),Object(s["h"])("div",Cn,[Object(s["h"])("h1",Vn,[Object(s["h"])("img",{src:"/"+c.app.img,class:"icon"},null,8,Rn),Object(s["j"])(" "+Object(s["G"])(c.app.name),1)]),Object(s["k"])(i,{app_id:c.app_id},null,8,["app_id"])])],64)}var $n={components:{MethodList:Me},data:function(){return{app_id:"",app:{name:"",img:"",icon:[]}}},mounted:function(){this.app_id=this.$route.params.name,this.app=this.$store.getters.getApp(this.app_id)}};a("e1a1");const qn=ee()($n,[["render",Hn],["__scopeId","data-v-0a880129"]]);var Un=qn,Pn=[{path:"/",name:"Home",component:Ie},{path:"/about",name:"About",component:Ye},{path:"/app/:name",name:"Application",component:Un},{path:"/method/:name",name:"Method",component:Tn}],Gn=Object(Re["a"])({history:Object(Re["b"])(),routes:Pn}),In=Gn,En=a("5502"),Nn=Object(En["a"])({state:{current_user_id:null,tokens:{},users:{},apps:{},counts:{},method_groups:{},swagger:{},loaded:!1},mutations:{add_token:function(e,t){e.tokens[t.user_id]=t.token},delete_token:function(e,t){delete e.tokens[t]},set_current_user_id:function(e,t){e.current_user_id=t},load_users:function(e,t){e.users=t,e.current_user_id=null,e.tokens={}},load_apps:function(e,t){e.apps=t},load_methods:function(e,t){Object.entries(t).forEach((function(t){var a=Object(Y["a"])(t,2),s=a[0],n=a[1];Object.entries(n).forEach((function(t){var a=Object(Y["a"])(t,2),n=a[0],c=a[1];Bn.method_to_group(e,s,n,c)}))}))},load_app_methods:function(e,t){"methods"in t&&"undefined"!==typeof t.methods&&null!=t.methods&&Object.entries(t.methods).forEach((function(a){var s=Object(Y["a"])(a,2),n=s[0],c=s[1];c["isSwagger"]=!0,Bn.method_to_group(e,t.app_id,n,c)}))},load_method:function(e,t){Bn.method_to_group(e,t.app_id,t.method_name,t.method)},load_swagger:function(e,t){e.swagger[t.app_id]=t.swagger},load_finish:function(e){e.loaded=!0}},getters:{current_token:function(e){return e.current_user_id?e.tokens[e.current_user_id]:null},current_user:function(e){return e.users[e.current_user_id]},getApp:function(e){return function(t){return e.apps[t]}},getMethod:function(e){return function(t,a){if(!(t in e.method_groups))return null;var s=a.split(".")[1];return s in e.method_groups[t]&&a in e.method_groups[t][s]?e.method_groups[t][s][a]:null}}},modules:{}}),Bn={method_to_group:function(e,t,a,s){a=a.replace(/^\//,"");var n=a.split(".")[1];t in e.method_groups||(e.method_groups[t]={}),n in e.method_groups[t]||(e.method_groups[t][n]={}),a in e.method_groups[t][n]||(t in e.counts?e.counts[t]++:e.counts[t]=1),(!(a in e.method_groups[t][n])||!("isSwagger"in e.method_groups[t][n][a])||"isSwagger"in s&&s.isSwagger)&&(e.method_groups[t][n][a]=s,e.method_groups[t][n][a]["http_type"]=Bn.getHttpType(s))},getHttpType:function(e){return"type"in e?Array.isArray(e.type)?e.type[0].toLowerCase():e.type.toLowerCase():"get"in e?"get":"post"in e?"post":"put"in e?"put":"delete"in e?"delete":"unknown"}},Dn=a("1344"),Jn=Object(Dn["a"])(),zn=Object(s["d"])(Ve);zn.use(Nn).use(In),zn.config.globalProperties.emitter=Jn,zn.config.globalProperties.axios=wa.a,zn.config.globalProperties.axios.defaults.baseURL=window.appState.baseUrl,zn.config.globalProperties.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",zn.config.globalProperties.axios.interceptors.response.use((function(e){if(!("wa-session-expired"in e.headers))return e;"development_mode"in window.appState?window.location.href=window.appState.baseUrl:window.location.reload()}),(function(e){console.log(e)})),zn.mount("#app")},"6caa":function(e,t,a){},"6d46":function(e,t,a){},"79d0":function(e,t,a){"use strict";a("6caa")},"7a03":function(e,t,a){"use strict";a("13f3")},"7a61":function(e,t,a){"use strict";a("d3c1")},c8a7:function(e,t,a){"use strict";a("f156")},d3c1:function(e,t,a){},e1a1:function(e,t,a){"use strict";a("f089")},f089:function(e,t,a){},f156:function(e,t,a){}});
//# sourceMappingURL=app.js.map